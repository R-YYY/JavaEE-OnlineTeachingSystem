{"remainingRequest":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\src\\components\\teacherPages\\task\\ManageTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\src\\components\\teacherPages\\task\\ManageTask.vue","mtime":1637313931365},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636890494000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1636890492000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636890494000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\index.js","mtime":1636890500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJNYW5hZ2VUYXNrIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcHJvamVjdERpYWxvZ1Zpc2libGU6ZmFsc2UsDQogICAgICBwcm9qZWN0RGlhbG9nQ2hhbmdlOmZhbHNlLA0KICAgICAgYXR0ZW5kYW5jZURpYWxvZ1Zpc2libGU6ZmFsc2UsDQogICAgICBhdHRlbmRhbmNlRGlhbG9nQ2hhbmdlOmZhbHNlLA0KICAgICAgYXR0ZW5kYW5jZVRpbWU6bnVsbCwNCiAgICAgIHByb2plY3RJbmZvOnsNCiAgICAgICAgbmFtZTonJywNCiAgICAgICAgZGVzY3JpcHRpb246bnVsbCwNCiAgICAgICAgcmVsZWFzZV90aW1lOm51bGwsDQogICAgICAgIGRlYWRsaW5lOicnLA0KICAgICAgICBwYXRoX251bWJlcjowLA0KICAgICAgfSwNCiAgICAgIGF0dGVuZGFuY2VJbmZvOnsNCiAgICAgICAgc3RhcnRfdGltZTpudWxsLA0KICAgICAgICBlbmRfdGltZTpudWxsLA0KICAgICAgfSwNCiAgICAgIGZpbGVMaXN0OlsNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICdmb29kLmpwZWcnLA0KICAgICAgICAgIHVybDogJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS8zLzYzLzRlN2YzYTE1NDI5YmZkYTk5YmNlNDJhMThjZGQxanBlZy5qcGVnP2ltYWdlTW9ncjIvdGh1bWJuYWlsLzM2MHgzNjAvZm9ybWF0L3dlYnAvcXVhbGl0eS8xMDAnDQogICAgICAgIH0NCiAgICAgIF0NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOnsNCiAgICBoYW5kbGVDbGljayh0YWIsZXZlbnQpew0KICAgICAgaWYodGFiLmluZGV4ID09IDApDQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOid0YXNrcycsDQogICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICBjb3Vyc2VfaWQ6NDIwMjQ0MDENCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICBlbHNlIGlmKHRhYi5pbmRleCA9PSAxKQ0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgbmFtZToncHJvamVjdHMnLA0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgY291cnNlX2lkOjQyMDI0NDAxDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgZWxzZSBpZih0YWIuaW5kZXggPT0gMikNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgIG5hbWU6J2F0dGVuZGFuY2VzJywNCiAgICAgICAgICBwYXJhbXM6ew0KICAgICAgICAgICAgY291cnNlX2lkOjQyMDI0NDAxDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0sDQoNCiAgICBhZGRQcm9qZWN0KCl7DQogICAgICB0aGlzLnByb2plY3REaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KDQogICAgYmVmb3JlQ2xvc2VQcm9qZWN0KCl7DQogICAgICBpZih0aGlzLnByb2plY3REaWFsb2dDaGFuZ2Upew0KICAgICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbkv53lrZjlt7LnvJbovpHlhoXlrrk/JywgJ+aPkOekuicsIHsNCiAgICAgICAgICBkaXN0aW5ndWlzaENhbmNlbEFuZENsb3NlOiB0cnVlLA0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5pivJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5ZCmJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkudGhlbigoKT0+ew0KICAgICAgICAgIHRoaXMucHJvamVjdERpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgIHRoaXMucHJvamVjdERpYWxvZ0NoYW5nZSA9IGZhbHNlDQogICAgICAgIH0pLmNhdGNoKCBhY3Rpb24gPT4gew0KICAgICAgICAgIGlmKGFjdGlvbiA9PT0gJ2NhbmNlbCcpIHsNCiAgICAgICAgICAgIC8vICDph43nva7lj5HluIPpobnnm67ooajljZXlhoXlrrkNCiAgICAgICAgICAgIHRoaXMucHJvamVjdERpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5wcm9qZWN0RGlhbG9nQ2hhbmdlID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICAgIHRoaXMucHJvamVjdERpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnByb2plY3REaWFsb2dDaGFuZ2UgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsNCiAgICB9LA0KDQogICAgaGFuZGxlUHJldmlldyhmaWxlKSB7DQogICAgICBjb25zb2xlLmxvZyhmaWxlKTsNCiAgICB9LA0KDQogICAgaGFuZGxlRXhjZWVkKGZpbGVzLCBmaWxlTGlzdCkgew0KICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKGDlvZPliY3pmZDliLbpgInmi6kgMyDkuKrmlofku7bvvIzmnKzmrKHpgInmi6nkuoYgJHtmaWxlcy5sZW5ndGh9IOS4quaWh+S7tu+8jOWFsemAieaLqeS6hiAke2ZpbGVzLmxlbmd0aCArIGZpbGVMaXN0Lmxlbmd0aH0g5Liq5paH5Lu2YCk7DQogICAgfSwNCg0KICAgIHN1Ym1pdFByb2plY3QoKXsNCiAgICAgIHRoaXMucHJvamVjdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgc3VibWl0QXR0ZW5kYW5jZSgpew0KICAgICAgdGhpcy5hdHRlbmRhbmNlRGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["ManageTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ManageTask.vue","sourceRoot":"src/components/teacherPages/task","sourcesContent":["<template>\r\n  <div>\r\n    <el-tabs class=\"projectTab\" type=\"border-card\" @tab-click=\"handleClick\">\r\n      <el-tab-pane class=\"optionPage\" label=\"发布任务\">\r\n        <div>\r\n          <el-container>\r\n            <el-aside width=\"530px\">\r\n              <el-card class=\"typeCard\" shadow=\"hover\" @click.native=\"addProject\">\r\n                <i class=\"el-icon-s-cooperation\"></i><br>\r\n                <p class=\"choice\">发布实验项目</p>\r\n              </el-card>\r\n              <el-dialog title=\"发布实验项目信息\" :before-close=\"beforeCloseProject\"\r\n                         :visible.sync=\"projectDialogVisible\" width=\"680px\">\r\n                <el-form :model=\"projectInfo\" label-width=\"70px\">\r\n                  <el-form-item label=\"项目名称\">\r\n                    <el-input v-model=\"projectInfo.name\" autocomplete=\"off\"\r\n                              style=\"width: 550px\" @change=\"projectDialogChange = true\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"有效时间\">\r\n                    <el-col style=\"width: 250px\">\r\n                      <el-date-picker\r\n                          v-model=\"projectInfo.release_time\"\r\n                          type=\"datetime\"\r\n                          placeholder=\"选择开始时间\"\r\n                          default-time=\"00:00:00\"\r\n                          style=\"width: 210px\">\r\n                      </el-date-picker>\r\n                    </el-col>\r\n                    <el-col style=\"width: 50px;text-align: center\">至\r\n                    </el-col>\r\n                    <el-col style=\"width: 250px;text-align: right\">\r\n                      <el-date-picker\r\n                          v-model=\"projectInfo.deadline\"\r\n                          type=\"datetime\"\r\n                          placeholder=\"选择结束时间\"\r\n                          default-time=\"23:59:59\"\r\n                          style=\"width: 210px\">\r\n                      </el-date-picker>\r\n                    </el-col>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"项目描述\">\r\n                    <el-input v-model=\"projectInfo.description\"\r\n                              autocomplete=\"off\"\r\n                              type=\"textarea\"\r\n                              :rows=\"10\"\r\n                              style=\"width: 550px\"\r\n                              @change=\"projectDialogChange = true\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"附加文件\">\r\n                    <el-upload\r\n                        action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n                        :on-preview=\"handlePreview\"\r\n                        :on-remove=\"handleRemove\"\r\n                        multiple\r\n                        :limit=\"3\"\r\n                        :on-exceed=\"handleExceed\"\r\n                        :file-list=\"fileList\"\r\n                        :auto-upload=\"false\">\r\n                      <el-button size=\"mini\" type=\"primary\">选取文件</el-button>\r\n                      <div slot=\"tip\" class=\"el-upload__tip\">最多上传*个文件，且每个文件大小不超过***</div>\r\n                    </el-upload>\r\n                  </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                  <el-button @click=\"beforeCloseProject\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"submitProject\">确 定</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </el-aside>\r\n\r\n            <el-aside width=\"530px\">\r\n              <el-card class=\"typeCard\" shadow=\"hover\" @click.native=\"attendanceDialogVisible = true\">\r\n                <i class=\"el-icon-user-solid\"></i><br>\r\n                <p class=\"choice\">发布课程考勤</p>\r\n              </el-card>\r\n              <el-dialog title=\"发布考勤信息\" :visible.sync=\"attendanceDialogVisible\"\r\n                         width=\"520px\" style=\"margin-top: 100px\">\r\n                <div>\r\n                  <span style=\"margin-left:20px;margin-right: 30px\">考勤时间</span>\r\n                  <el-time-picker\r\n                      is-range\r\n                      v-model=\"attendanceTime\"\r\n                      range-separator=\"至\"\r\n                      start-placeholder=\"开始时间\"\r\n                      end-placeholder=\"结束时间\"\r\n                      placeholder=\"选择时间范围\">\r\n                  </el-time-picker>\r\n                </div>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                  <el-button @click=\"attendanceDialogVisible = false\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"submitAttendance\">确 定</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </el-aside>\r\n          </el-container>\r\n        </div>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane class=\"optionPage\" label=\"实验项目\">\r\n        <router-view name=\"projectList\"></router-view>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane class=\"optionPage\" label=\"课程考勤\">\r\n        <router-view name=\"attendanceList\"></router-view>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ManageTask\",\r\n  data() {\r\n    return {\r\n      projectDialogVisible:false,\r\n      projectDialogChange:false,\r\n      attendanceDialogVisible:false,\r\n      attendanceDialogChange:false,\r\n      attendanceTime:null,\r\n      projectInfo:{\r\n        name:'',\r\n        description:null,\r\n        release_time:null,\r\n        deadline:'',\r\n        path_number:0,\r\n      },\r\n      attendanceInfo:{\r\n        start_time:null,\r\n        end_time:null,\r\n      },\r\n      fileList:[\r\n        {\r\n          name: 'food.jpeg',\r\n          url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods:{\r\n    handleClick(tab,event){\r\n      if(tab.index == 0)\r\n        this.$router.push({\r\n          name:'tasks',\r\n          params: {\r\n            course_id:42024401\r\n          }\r\n        })\r\n      else if(tab.index == 1)\r\n        this.$router.push({\r\n          name:'projects',\r\n          params: {\r\n            course_id:42024401\r\n          }\r\n        })\r\n      else if(tab.index == 2)\r\n        this.$router.push({\r\n          name:'attendances',\r\n          params:{\r\n            course_id:42024401\r\n          }\r\n        })\r\n    },\r\n\r\n    addProject(){\r\n      this.projectDialogVisible = true;\r\n    },\r\n\r\n    beforeCloseProject(){\r\n      if(this.projectDialogChange){\r\n        this.$confirm('是否保存已编辑内容?', '提示', {\r\n          distinguishCancelAndClose: true,\r\n          confirmButtonText: '是',\r\n          cancelButtonText: '否',\r\n          type: 'warning'\r\n        }).then(()=>{\r\n          this.projectDialogVisible = false\r\n          this.projectDialogChange = false\r\n        }).catch( action => {\r\n          if(action === 'cancel') {\r\n            //  重置发布项目表单内容\r\n            this.projectDialogVisible = false\r\n            this.projectDialogChange = false\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        this.projectDialogVisible = false\r\n        this.projectDialogChange = false\r\n      }\r\n    },\r\n\r\n    handleRemove(file, fileList) {\r\n      console.log(file, fileList);\r\n    },\r\n\r\n    handlePreview(file) {\r\n      console.log(file);\r\n    },\r\n\r\n    handleExceed(files, fileList) {\r\n      this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n    },\r\n\r\n    submitProject(){\r\n      this.projectDialogVisible = false;\r\n    },\r\n\r\n    submitAttendance(){\r\n      this.attendanceDialogVisible = false;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.projectTab{\r\n  height: 100%;\r\n  margin-top: 20px;\r\n  margin-right: 50px;\r\n  margin-left: 30px;\r\n  background-color:white;\r\n}\r\n\r\n.el-icon-user-solid, .el-icon-s-cooperation{\r\n  font-size: 180px;\r\n  position: relative;\r\n  margin-left: 30px;\r\n}\r\n\r\n.choice{\r\n  font-size: 25px;\r\n  position: relative;\r\n  margin-left: 50px;\r\n}\r\n\r\n.typeCard{\r\n  border-width: 2px;\r\n  margin-top: 110px;\r\n  margin-left: 190px;\r\n  margin-right: 50px;\r\n  cursor:pointer;\r\n}\r\n</style>"]}]}
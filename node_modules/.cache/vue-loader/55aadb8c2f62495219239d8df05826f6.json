{"remainingRequest":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\src\\components\\teacherPages\\task\\ManageTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\src\\components\\teacherPages\\task\\ManageTask.vue","mtime":1637386230160},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636890494000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1636890492000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636890494000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\index.js","mtime":1636890500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFuYWdlVGFzayIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2plY3REaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcHJvamVjdERpYWxvZ0NoYW5nZTogZmFsc2UsCiAgICAgIGF0dGVuZGFuY2VEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgYXR0ZW5kYW5jZURpYWxvZ0NoYW5nZTogZmFsc2UsCiAgICAgIGF0dGVuZGFuY2VUaW1lOiBudWxsLAogICAgICBwcm9qZWN0SW5mbzogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgIHJlbGVhc2VfdGltZTogbnVsbCwKICAgICAgICBkZWFkbGluZTogIiIsCiAgICAgICAgcGF0aF9udW1iZXI6IDAsCiAgICAgIH0sCiAgICAgIGF0dGVuZGFuY2VJbmZvOiB7CiAgICAgICAgc3RhcnRfdGltZTogbnVsbCwKICAgICAgICBlbmRfdGltZTogbnVsbCwKICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiZm9vZC5qcGVnIiwKICAgICAgICAgIHVybDogImh0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS8zLzYzLzRlN2YzYTE1NDI5YmZkYTk5YmNlNDJhMThjZGQxanBlZy5qcGVnP2ltYWdlTW9ncjIvdGh1bWJuYWlsLzM2MHgzNjAvZm9ybWF0L3dlYnAvcXVhbGl0eS8xMDAiLAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewogICAgICBpZiAodGFiLmluZGV4ID09IDApCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogInRhc2tzIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb3Vyc2VfaWQ6IDQyMDI0NDAxLAogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgZWxzZSBpZiAodGFiLmluZGV4ID09IDEpCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogInByb2plY3RzIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb3Vyc2VfaWQ6IDQyMDI0NDAxLAogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgZWxzZSBpZiAodGFiLmluZGV4ID09IDIpCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImF0dGVuZGFuY2VzIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb3Vyc2VfaWQ6IDQyMDI0NDAxLAogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgIH0sCgogICAgYWRkUHJvamVjdCgpIHsKICAgICAgdGhpcy5wcm9qZWN0RGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAoKICAgIGJlZm9yZUNsb3NlUHJvamVjdCgpIHsKICAgICAgaWYgKHRoaXMucHJvamVjdERpYWxvZ0NoYW5nZSkgewogICAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuS/neWtmOW3sue8lui+keWGheWuuT8iLCAi5o+Q56S6IiwgewogICAgICAgICAgZGlzdGluZ3Vpc2hDYW5jZWxBbmRDbG9zZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi5pivIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlkKYiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMucHJvamVjdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0RGlhbG9nQ2hhbmdlID0gZmFsc2U7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChhY3Rpb24pID0+IHsKICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gImNhbmNlbCIpIHsKICAgICAgICAgICAgICAvLyAg6YeN572u5Y+R5biD6aG555uu6KGo5Y2V5YaF5a65CiAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMucHJvamVjdERpYWxvZ0NoYW5nZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb2plY3REaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5wcm9qZWN0RGlhbG9nQ2hhbmdlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgIH0sCgogICAgaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpOwogICAgfSwKCiAgICBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygKICAgICAgICBg5b2T5YmN6ZmQ5Yi26YCJ5oupIDMg5Liq5paH5Lu277yM5pys5qyh6YCJ5oup5LqGICR7ZmlsZXMubGVuZ3RofSDkuKrmlofku7bvvIzlhbHpgInmi6nkuoYgJHsKICAgICAgICAgIGZpbGVzLmxlbmd0aCArIGZpbGVMaXN0Lmxlbmd0aAogICAgICAgIH0g5Liq5paH5Lu2YAogICAgICApOwogICAgfSwKCiAgICBzdWJtaXRQcm9qZWN0KCkgewogICAgICB0aGlzLnByb2plY3REaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAoKICAgIHN1Ym1pdEF0dGVuZGFuY2UoKSB7CiAgICAgIHRoaXMuYXR0ZW5kYW5jZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["ManageTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ManageTask.vue","sourceRoot":"src/components/teacherPages/task","sourcesContent":["<template>\n  <div>\n    <div style=\"height: 40px\">\n    </div>\n    <div style=\"height: 100%\">\n      <el-tabs class=\"taskTab\" type=\"border-card\" @tab-click=\"handleClick\" value=\"task\">\n        <el-tab-pane label=\"发布任务\" name=\"task\">\n          <el-container>\n            <div class=\"typeCard\">\n              <el-card\n                  shadow=\"hover\"\n                  @click.native=\"addProject\">\n                <i class=\"el-icon-s-cooperation\"></i><br />\n                <div class=\"choice\">\n                  <p>发布实验项目</p>\n                </div>\n              </el-card>\n            </div>\n            <div class=\"typeCard\">\n              <el-card\n                  shadow=\"hover\"\n                  @click.native=\"attendanceDialogVisible = true\">\n                <i class=\"el-icon-user-solid\"></i><br />\n                <div class=\"choice\">\n                  <p>发布课程考勤</p>\n                </div>\n              </el-card>\n            </div>\n          </el-container>\n        </el-tab-pane>\n        <el-tab-pane label=\"实验项目\" anme=\"project\">\n        </el-tab-pane>\n        <el-tab-pane label=\"课程考勤\" name=\"attendance\">\n        </el-tab-pane>\n      </el-tabs>\n\n<!--      填写实验项目信息-->\n      <el-dialog\n          title=\"发布实验项目信息\"\n          :before-close=\"beforeCloseProject\"\n          :visible.sync=\"projectDialogVisible\"\n          width=\"680px\">\n        <el-form :model=\"projectInfo\" label-width=\"70px\">\n          <el-form-item label=\"项目名称\">\n            <el-input\n                v-model=\"projectInfo.name\"\n                autocomplete=\"off\"\n                style=\"width: 550px\"\n                @change=\"projectDialogChange = true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"有效时间\">\n            <el-col style=\"width: 250px\">\n              <el-date-picker\n                  v-model=\"projectInfo.release_time\"\n                  type=\"datetime\"\n                  placeholder=\"选择开始时间\"\n                  default-time=\"00:00:00\"\n                  style=\"width: 210px\">\n              </el-date-picker>\n            </el-col>\n            <el-col style=\"width: 50px; text-align: center\">至 </el-col>\n            <el-col style=\"width: 250px; text-align: right\">\n              <el-date-picker\n                  v-model=\"projectInfo.deadline\"\n                  type=\"datetime\"\n                  placeholder=\"选择结束时间\"\n                  default-time=\"23:59:59\"\n                  style=\"width: 210px\">\n              </el-date-picker>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"项目描述\">\n            <el-input\n                v-model=\"projectInfo.description\"\n                autocomplete=\"off\"\n                type=\"textarea\"\n                :rows=\"10\"\n                style=\"width: 550px\"\n                @change=\"projectDialogChange = true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"附加文件\">\n            <el-upload\n                action=\"https://jsonplaceholder.typicode.com/posts/\"\n                :on-preview=\"handlePreview\"\n                :on-remove=\"handleRemove\"\n                multiple\n                :limit=\"3\"\n                :on-exceed=\"handleExceed\"\n                :file-list=\"fileList\"\n                :auto-upload=\"false\">\n              <el-button size=\"mini\" type=\"primary\">选取文件</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\">\n                最多上传*个文件，且每个文件大小不超过***\n              </div>\n            </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"beforeCloseProject\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"submitProject\"\n          >确 定</el-button>\n        </div>\n      </el-dialog>\n\n<!--      考勤信息-->\n      <el-dialog\n          title=\"发布考勤信息\"\n          :visible.sync=\"attendanceDialogVisible\"\n          width=\"520px\"\n          style=\"margin-top: 100px\">\n        <div>\n          <span style=\"margin-left: 20px; margin-right: 30px\"\n          >考勤时间</span>\n          <el-time-picker\n              is-range\n              v-model=\"attendanceTime\"\n              range-separator=\"至\"\n              start-placeholder=\"开始时间\"\n              end-placeholder=\"结束时间\"\n              placeholder=\"选择时间范围\">\n          </el-time-picker>\n        </div>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"attendanceDialogVisible = false\"\n          >取 消</el-button\n          >\n          <el-button type=\"primary\" @click=\"submitAttendance\"\n          >确 定</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ManageTask\",\n  data() {\n    return {\n      projectDialogVisible: false,\n      projectDialogChange: false,\n      attendanceDialogVisible: false,\n      attendanceDialogChange: false,\n      attendanceTime: null,\n      projectInfo: {\n        name: \"\",\n        description: null,\n        release_time: null,\n        deadline: \"\",\n        path_number: 0,\n      },\n      attendanceInfo: {\n        start_time: null,\n        end_time: null,\n      },\n      fileList: [\n        {\n          name: \"food.jpeg\",\n          url: \"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100\",\n        },\n      ],\n    };\n  },\n  methods: {\n    handleClick(tab, event) {\n      if (tab.index == 0)\n        this.$router.push({\n          name: \"tasks\",\n          params: {\n            course_id: 42024401,\n          },\n        });\n      else if (tab.index == 1)\n        this.$router.push({\n          name: \"projects\",\n          params: {\n            course_id: 42024401,\n          },\n        });\n      else if (tab.index == 2)\n        this.$router.push({\n          name: \"attendances\",\n          params: {\n            course_id: 42024401,\n          },\n        });\n    },\n\n    addProject() {\n      this.projectDialogVisible = true;\n    },\n\n    beforeCloseProject() {\n      if (this.projectDialogChange) {\n        this.$confirm(\"是否保存已编辑内容?\", \"提示\", {\n          distinguishCancelAndClose: true,\n          confirmButtonText: \"是\",\n          cancelButtonText: \"否\",\n          type: \"warning\",\n        })\n          .then(() => {\n            this.projectDialogVisible = false;\n            this.projectDialogChange = false;\n          })\n          .catch((action) => {\n            if (action === \"cancel\") {\n              //  重置发布项目表单内容\n              this.projectDialogVisible = false;\n              this.projectDialogChange = false;\n            }\n          });\n      } else {\n        this.projectDialogVisible = false;\n        this.projectDialogChange = false;\n      }\n    },\n\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n\n    handlePreview(file) {\n      console.log(file);\n    },\n\n    handleExceed(files, fileList) {\n      this.$message.warning(\n        `当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${\n          files.length + fileList.length\n        } 个文件`\n      );\n    },\n\n    submitProject() {\n      this.projectDialogVisible = false;\n    },\n\n    submitAttendance() {\n      this.attendanceDialogVisible = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.taskTab {\n  height: 100%;\n  margin-top: 20px;\n  margin-right: 50px;\n  margin-left: 40px;\n  background-color: white;\n}\n\n.el-icon-user-solid,\n.el-icon-s-cooperation {\n  font-size: 180px;\n  margin-left: 40px;\n}\n\n.choice {\n  font-size: 25px;\n  margin-left: 55px;\n}\n\n.typeCard {\n  width: 300px;\n  border-width: 2px;\n  margin-top: 90px;\n  margin-left: 170px;\n  margin-right: 30px;\n  cursor: pointer;\n}\n</style>\n"]}]}
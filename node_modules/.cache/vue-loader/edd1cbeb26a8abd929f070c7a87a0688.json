{"remainingRequest":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\src\\components\\studentPages\\task\\StudentAttendance.vue?vue&type=style&index=0&id=316a2c00&scoped=true&lang=css&","dependencies":[{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\src\\components\\studentPages\\task\\StudentAttendance.vue","mtime":1639102513945},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636890494000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1636890500000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\postcss-loader\\src\\index.js","mtime":1636890498000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636890494000},{"path":"D:\\Code_Files\\WebStorm_Files\\ExperimentTeachingSystem\\node_modules\\vue-loader\\lib\\index.js","mtime":1636890500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCiNzdHVBdHRlbmRhbmNlew0KICB3aWR0aDogOTAlOw0KICBtYXJnaW4tbGVmdDogMTVweDsNCiAgbWFyZ2luLWJvdHRvbTogNTBweDsNCn0NCi50aW1lew0KICBoZWlnaHQ6IDQwcHg7DQogIG1hcmdpbi10b3A6IDhweDsNCiAgZm9udC1zaXplOiAxOHB4Ow0KfQ0KLnN1Y2Nlc3N7DQogIGZsb2F0OiByaWdodDsNCiAgbWFyZ2luLXJpZ2h0OiAxMjBweDsNCiAgZm9udC1zaXplOiAxN3B4Ow0KICBjb2xvcjogcmdiYSg1MCwxODAsMCwwLjkpOw0KICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsMjU1LDAsMC4xKTsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICBwYWRkaW5nOiA2cHggOHB4Ow0KICBiYWNrZ3JvdW5kOiByZ2JhKDAsMjAwLDAsMC4wOCk7DQp9DQoNCi5kYW5nZXJ7DQogIGZsb2F0OiByaWdodDsNCiAgbWFyZ2luLXJpZ2h0OiAxMjBweDsNCiAgZm9udC1zaXplOiAxN3B4Ow0KICBjb2xvcjogcmVkOw0KICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwwLDAsMC4xKTsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICBwYWRkaW5nOiA2cHggOHB4Ow0KICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwwLDAsMC4wNik7DQp9DQoubm9ybWFsew0KICBmbG9hdDogcmlnaHQ7DQogIG1hcmdpbi1yaWdodDogMTIwcHg7DQogIGZvbnQtc2l6ZTogMTdweDsNCiAgY29sb3I6IHJnYmEoMjQsMjA3LDIwMSwxKTsNCiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNCwyMDcsMjAxLDAuMSk7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgcGFkZGluZzogNnB4IDhweDsNCiAgYmFja2dyb3VuZDogcmdiYSgyNCwyMDcsMjAxLDAuMDYpOw0KfQ0KDQo="},{"version":3,"sources":["StudentAttendance.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentAttendance.vue","sourceRoot":"src/components/studentPages/task","sourcesContent":["<template>\r\n  <div id=\"stuAttendance\">\r\n    <el-table\r\n        :data=\"attendance_list\"\r\n        style=\"width: 100%;padding-left: 50px;font-size: 17px\"\r\n        :default-sort = \"{prop: 'start_time', order: 'descending'}\"\r\n    >\r\n      <el-table-column style=\"padding-left: 20px;font-size: 17px\" prop=\"start_time\"\r\n          label=\"时间\"\r\n          sortable\r\n          width=\"500\">\r\n        <template slot-scope=\"scope\">\r\n          <span class=\"time\">{{ scope.row.start_time }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column>\r\n        <template slot-scope=\"scope\">\r\n          <div :class=\"[{'success':(scope.row.attend_type === '出勤')},\r\n                {'danger':(scope.row.attend_type === '缺勤')},\r\n                {'normal':(scope.row.attend_type === '待考勤')}\r\n                ]\"\r\n              @click=\"btnClick(scope.row.attend_type,scope.row.start_time)\">{{ scope.row.attend_type }}</div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"StudentAttendance\",\r\n  inject: ['reload'],     //注入依赖\r\n  props:{\r\n    course_id:{\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data(){\r\n    return {\r\n      attendance_list:[],\r\n    }\r\n  },\r\n  mounted(){\r\n    let that=this;\r\n    let id=that.course_id;\r\n    let student_id='1951014';\r\n    this.$axios.get('/attend/getAttendInfoList',\r\n        {\r\n          params:{\r\n            course_ID:id,\r\n            student_ID:student_id,\r\n          }\r\n        }\r\n    ).then(\r\n        (response)=>{\r\n          that.attendance_list=response.data;\r\n        }\r\n    )\r\n  },\r\n  methods:{\r\n    btnClick(type,start_time) {\r\n      if(type==='出勤'||type==='缺勤'){\r\n\r\n      }\r\n      else{\r\n        let data = new FormData();\r\n        let id=this.course_id;\r\n        let student_id='1951014';\r\n        data.append(\"course_ID\",id);\r\n        console.log(id);\r\n        console.log(start_time);\r\n        console.log(student_id);\r\n        data.append(\"start_time\",start_time);\r\n        data.append(\"student_ID\",student_id);\r\n        this.$axios({\r\n          url:'/attend/addAttend',\r\n          method:\"POST\",\r\n          data:data,\r\n        })\r\n            .then((response) => {\r\n              console.log(response.data);\r\n              if (response.data === 1) {\r\n                this.$alert('考勤成功！', '', {\r\n                  confirmButtonText: '确定',\r\n                  type: 'success'\r\n                });\r\n                this.reload();    //调用刷新\r\n              } else {\r\n                this.$message({\r\n                  type: \"error\",\r\n                  message: \"已考勤！\",\r\n                });\r\n              }\r\n            })\r\n            .catch(() => {\r\n              this.$message({\r\n                type: \"error\",\r\n                message: \"考勤失败！请重试！\",\r\n              });\r\n            });\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#stuAttendance{\r\n  width: 90%;\r\n  margin-left: 15px;\r\n  margin-bottom: 50px;\r\n}\r\n.time{\r\n  height: 40px;\r\n  margin-top: 8px;\r\n  font-size: 18px;\r\n}\r\n.success{\r\n  float: right;\r\n  margin-right: 120px;\r\n  font-size: 17px;\r\n  color: rgba(50,180,0,0.9);\r\n  border: 1px solid rgba(0,255,0,0.1);\r\n  border-radius: 5px;\r\n  padding: 6px 8px;\r\n  background: rgba(0,200,0,0.08);\r\n}\r\n\r\n.danger{\r\n  float: right;\r\n  margin-right: 120px;\r\n  font-size: 17px;\r\n  color: red;\r\n  border: 1px solid rgba(255,0,0,0.1);\r\n  border-radius: 5px;\r\n  padding: 6px 8px;\r\n  background: rgba(255,0,0,0.06);\r\n}\r\n.normal{\r\n  float: right;\r\n  margin-right: 120px;\r\n  font-size: 17px;\r\n  color: rgba(24,207,201,1);\r\n  border: 1px solid rgba(24,207,201,0.1);\r\n  border-radius: 5px;\r\n  padding: 6px 8px;\r\n  background: rgba(24,207,201,0.06);\r\n}\r\n\r\n</style>"]}]}